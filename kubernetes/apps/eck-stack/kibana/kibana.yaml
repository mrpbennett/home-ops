apiVersion: kibana.k8s.elastic.co/v1
kind: Kibana
metadata:
  name: kibana
  namespace: elastic-stack
spec:
  version: 8.15.2
  count: 1

  config:
    elasticsearch.hosts:
      - https://192.168.5.52:9200
    elasticsearch.username: elastic

  secureSettings:
    - secretName: elasticsearch-basic-auth

  elasticsearchRef:
    name: elasticsearch
    namespace: elastic-stack

  http:
    service:
      spec:
        type: LoadBalancer
        loadBalancerIP: 192.168.5.53

    tls:
      selfSignedCertificate:
        disabled: true

  ingress:
    enabled: true
    annotations:
      kubernetes.io/ingress.class: nginx
    pathType: Prefix
    hosts:
      - host: kibana.70ld.home
        path: /
    tls:
      enabled: false
