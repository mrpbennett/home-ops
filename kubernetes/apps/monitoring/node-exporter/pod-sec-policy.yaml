apiVersion: policy/v1beta1
kind: PodSecurityPolicy
metadata:
  name: node-exporter-psp
spec:
  privileged: false
  volumes:
    - hostPath
  allowedHostPaths:
    - pathPrefix: /proc
    - pathPrefix: /sys
    - pathPrefix: /
  hostNetwork: true
  hostPorts:
    - min: 9100
      max: 9100
  runAsUser:
    rule: "MustRunAsNonRoot"
  seLinux:
    rule: "RunAsAny"
  supplementalGroups:
    rule: "MustRunAs"
    ranges:
      - min: 1
        max: 65535
  fsGroup:
    rule: "MustRunAs"
    ranges:
      - min: 1
        max: 65535
